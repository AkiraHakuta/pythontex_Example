%BirthdayProblem.tex   Author: Akira Hakuta, Date: 2017/01/27
%python.exe probability.py
%pdflatex.exe -synctex=1 -interaction=nonstopmode BirthdayProblem.tex
%pythontex.exe  BirthdayProblem.tex
%pdflatex.exe -synctex=1 -interaction=nonstopmode BirthdayProblem.tex

\documentclass[a4paper, 12pt]{article}
%\documentclass[a4paper, 12pt, jadriver=standard]{bxjsarticle}

\setlength{\oddsidemargin}{-15mm}
\setlength{\evensidemargin}{0mm}
\setlength{\topmargin}{-5mm}
\setlength{\headheight}{6mm}
\setlength{\headsep}{10mm}
\setlength{\textwidth}{195mm}
\setlength{\textheight}{265mm} 
\setlength{\hoffset}{0mm}

\usepackage[pdftex]{graphicx}
\usepackage{amsmath}
\usepackage{fancyhdr}
\usepackage{amssymb}
\usepackage{setspace}

\usepackage{pythontex}


\begin{pycode}
cnum = 40 #number of persons in my class
from probability import distinct_prob
\end{pycode}

\usepackage{fancyhdr}
\usepackage{pdfpages}

\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{{\large\bf ~~~~Birthday Problem}\hspace{50mm}Class\underline{\hspace{10mm}}~~No.\underline{\hspace{10mm}}~~Name\underline{\hspace{30mm}}}
\fancyfoot{}
\renewcommand{\headrulewidth}{0.0pt}

\begin{document}
    
    \setstretch{1.7}      
    
    There are \py{cnum} persons in my class.\vspace{5mm}
    
    What is the probability
    
    \hspace{25mm} that at least two persons in my class would have the same birthday? \vspace{5mm}
       
	\hspace{15mm}$P\, (\,at~ least ~two~ persons~have~ the~same~ birthday\,)$
	
    \hspace{10mm}$= \,1 - P\, (\,all~ \py{cnum}~ birthdays~ are ~distinct\,)$\vspace{2mm}
    
   \hspace{10mm}$=\,1-\displaystyle \frac{365\times 364\times 363\times \cdots\cdots\times \py{365-cnum+1}}
            {\,365\times 365 \times 365 \times\cdots\cdots\times 365\,}$\vspace{2mm}
            
   \hspace{10mm}$\fallingdotseq \,1- \py{'{:.03f}'.format(distinct_prob(cnum))}$
   
    \hspace{10mm}$= \,\py{'{:.03f}'.format(1-distinct_prob(cnum))}$\vspace{30mm}
    
\setstretch{1.5}   
\begin{pycode}
lo, hi, step = 10, 100, 10
print(r"\begin{tabular}{|c|c|}")
print(r"\hline")
print(r"$~n~$ & $~p~$ \\ \hline")
for n in range(lo, hi + 1,step):
    print(r"{} & {:.08f} \\".format(n, 1-distinct_prob(n)))
    print(r"\hline")
print(r"\end{tabular}")
\end{pycode}   
 
      \vspace{-96mm}\hspace{40mm}
      \includegraphics[scale=0.7]{birthdayProb.pdf}         
\end{document}


